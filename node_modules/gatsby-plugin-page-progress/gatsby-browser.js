"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");exports.__esModule=!0,exports.onRouteUpdate=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),defaultOptions={includePaths:[],excludePaths:[],height:3,prependToBody:!1,color:"#663399"},onRouteUpdate=function(e,t){var o=e.location.pathname;void 0===t&&(t={});var n=(0,_extends2.default)({},defaultOptions,{},t),i=n.includePaths,r=n.excludePaths,d=n.height,u=n.prependToBody,a=n.color;function l(){var e=document.createElement("div");e.id="gatsby-plugin-page-progress",u?document.body.prepend(e):document.body.append(e);var o=!1,i=document.getElementById("gatsby-plugin-page-progress");window.addEventListener("scroll",function(){var t=window.scrollY,e=window.innerHeight,n=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)-e;o||(window.requestAnimationFrame(function(){var e=function(e,t){return e/t*100}(t,n);i.setAttribute("style","width: "+e+"%; position: fixed; height: "+d+"px; background-color: "+a+"; top: 0; left: 0; transition: width 0.25s; z-index: 9999;"),o=!1}),o=!0)})}function s(t,e){if(0===e.length)return t;var n=t;return e.forEach(function(e){n!==!t&&("object"==typeof e&&new RegExp(e.regex,"gm").test(o)&&(n=!n),e===o&&(n=!n))}),n}function c(){var e=document.getElementById("gatsby-plugin-page-progress");e&&e.remove()}if(r.length||i.length)if(r.length&&!i.length){var p=s(!0,r);c(),p&&l()}else{var g=s(!0,r);if(c(),g)s(!1,i)&&l()}else c(),l()};exports.onRouteUpdate=onRouteUpdate;